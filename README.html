<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>README </title>
</head>
<body>
<h1> Plataforma de representação musicográfica </h1>

    <p> Projeto de conclusão de curso para obtenção de título de graduação em engenharia de controle e automação industrial</p>
    <p> Título do projeto: Plataforma de representação de musicografia braille para leitura com membros inferiores</p>
<p>Orientado: Michael Silva</p>
<p>Orientador: Renan K.</p>
<p>
    Repositório GIT:
    <a href = "https://github.com/michaelsss16/PFC---Musicografia.git">Visitar </a>
</p>

<h1>Introdução</h1>
<h2>Inicialização</h2>
<p>	Para execução correta do programa basta acessar o repositório no Git Hub e realizar o download para algum diretório de preferência no computador. O clone do projeto também pode ser feito via prompt de comando utilizando o comando “git clone https://github.com/michaelsss16/PFC---Musicografia” no diretório desejado, desde que o git esteja instalado no sistema operacional. Todo o código fonte estará presente para leitura, ainda que seja necessário somente a execução  do arquivo main.exe, localizado na pasta “./src”. </p>
	<p> Ao iniciar o programa, o primeiro evento ocorrente é a tentativa de conexão com a plataforma. Se a conexão for  estabelecida, o usuário é direcionado a página inicial do programa. Entretanto, se não for possível iniciar a comunicação uma nova tela de ajuda é apresentada com possibilidade de redesignação da porta, identificada pelo sistema operacional, a qual o microcontrolador está sendo reconhecido. Para o segundo caso, a reinicialização do programa se faz necessária.</p>
	<p> Caso tudo ocorra bem, o programa é iniciado. Para os videntes, será possível encontrar todas as informações de interação com o programa na forma textual, distribuída em listas. Para os usuários de leitores de tela, será possível obter feedback sonoro utilizando o sintetizador de voz do programa, que utiliza os pacotes de voz presentes no sistema operacional, aqui definido para Windows, ou utilização dos leitores de tela padrões, como o NVDA ou JAWS, que são indicados. Por se tratar de uma janela de prompt de comando, será necessário a utilização dos métodos de navegação de edição para acessar as linhas de informação impressas referentes ao teclado numérico do computador, para os usuários do NVDA, por exemplo.</p> 
	<p> Por utilizar os pacotes de vozes do próprio sistema operacional, é possível que os valores padrões configurados não sejam correspondentes com os disponíveis no computador. Se isso ocorrer, uma mensagem de aviso será apresentada ao usuário dizendo que o sintetizador não pôde ser iniciado. Portanto, é preciso o encaminhamento até a página de configuração e seleção de uma das vozes disponíveis. Se nenhuma for apresentada é preciso realizar a instalação de um pacote de dados de vozes para o sistema operacional do computador, normalmente já instalado de fábrica.</p>
	<p> Na plataforma são acionados todos os pontos, em um movimento de pulsação, e um feedback sonoro de duração média e duplo é ativado. Por simplicidade na descrição dos eventos posteriores, todas as ações de ativação do buzzer só são efetivados se a configuração relacionada a esse evento é permitida pelas preferências do usuário. Outros casos semelhantes seguem a mesma restrição.</p>
	<p> A interação com o software, em sua maioria ocorre pela inserção de comandos pelo teclado ou pelos botões da plataforma. Para a seleção das opções apresentadas pelas páginas é necessário digitar o valor numérico indicado ao início de cada opção. Se valores incoerentes ou não presentes nas seleções disponíveis for inserido, será apresentada uma mensagem de erro indicando a impossibilidade de corresponder uma opção ao valor adicionado e as opções factíveis serão listadas novamente até que a execução se concretize.</p>
	<p>Novamente, por questões de simplicidade na descrição, para cada página posteriormente apresentada será possível obter texto de ajuda referente ao contexto da interface a qual o usuário está fazendo a inserção da opção “10”. Ademais, em todas as páginas é possível a inserção da opção “0” para retornar a página anterior, ou finalização do programa, caso a página inicial seja a atual.</p>

<h1>Apresentação das páginas </h1>
<h2> Página inicial</h2>
<p> É a partir da página inicial que o usuário tem acesso a todas as demais páginas que tratam de demandas específicas de atuação. Como descrito anteriormente, basta realizar a entrada do valor desejado, relacionado as opções apresentadas, que pode ser consultada na imagem anterior, para ser encaminhado a resposta objetivo.</p>
<p> Além das opções de redirecionamento para outras páginas, que listam as páginas de execução, escrita, envio de comando direto e configuração, se faz presente a opção de ajuda, explicada anteriormente, e da opção de abrir a documentação do projeto. Se a opção “0” é escolhida, o programa se encerra, ocasionando o fechamento da tela de apresentação das informações e um bip único de tempo de duração média é acionado na plataforma.</p>
<p> Se a opção de apresentação da documentação do projeto é selecionada, uma janela do navegador de internet padrão do computador é aberta com uma nova aba apresentando a documentação do projeto. Todas as informações estão definidas no arquivo .html citado em momento prévio. O programa continua em execução, entretanto, para retorno assim que as informações desejadas forem obtidas. Toda a página elaborada é acessível para deficientes visuais e conta com marcações de títulos e subtítulos a fim de garantir agilidade na navegação por esses usuários.</p>

<h2> Página de execução</h2>
<p> 	Na página de execução são reunidas todas as funções relacionadas a leitura das partituras. Além da apresentação do texto de ajuda e de retorno até a página inicial é possível iniciar a reprodução manual de uma partitura, iniciar a reprodução automática ou realizar a escolha da partitura para execução, referente aos valores 1, 2 e 3, na ordem que são citados.</p>
<p> 	Se o programa está em sua primeira execução na máquina, por padrão, a partitura selecionada é a de título “PartituraInicial” que se encontra do diretório “./Partituras/PartituraInicial.json”. Entretanto, se esse não for o caso, o arquivo selecionado será o último requisitado pelo usuário na última execução do programa, ou seja, o estado das configurações é mantido ao longo do uso.</p> 
	<p> Sendo assim, parte-se para a apresentação de cada uma das três opções inseridas na página de execução.</p>

    <h3> Execução manual</h3>
<p>     Selecionada a opção de execução manual, é possível fazer a leitura da partitura a partir do pressionamento dos botões da plataforma. Se a opção de apresentação das informações da partitura, definida na configuração da interface, estiver ativada, serão apresentadas as informações do título, autor e BPM da composição carregada. </p>
<p>        Posteriormente, se a opção de reprodução do metrônomo de exemplificação estiver ativada, será impressa uma mensagem na tela dizendo que está sendo aguardado o pressionamento de qualquer botão da placa para a reprodução do metrônomo com a velocidade definida no arquivo da composição. Assim que qualquer um dos três botões da plataforma for pressionado é iniciado a sonorização pelo buzzer com bips na frequência definida. </p>
<p>        Em seguida, outra mensagem de interface é impressa informando que é preciso pressionar qualquer botão da placa para iniciar a reprodução da composição. Com o pressionamento, a primeira nota da composição se torna ativa na cela da plataforma.</p>
<p>        Um bip inicial é executado e, se configurado para tal, mensagens com a informação do número do compasso e bip informativo que a nota presente é a primeira do compasso serão executados. <p></p></p>
<p>        Além do acionamento dos pontos da plataforma com a cela que representa a nota, é possível, a partir das configurações, definir a impressão do significado da combinação de acordo com o alfabeto tradicional, do contexto musical e até mesmo do vetor contendo os pontos que estão sendo ativados na plataforma.</p>
<p>>        Quanto a navegação, ao se pressionar o botão de avanço a próxima nota do compasso, ou do compasso posterior será apresentada. Semelhantemente, se o botão de recuo é pressionado é realizado o retorno para a nota anterior da partitura e, se já estiver no início da composição, nada é executado e uma mensagem informativa é apresentada. </p
<p>    Com o botão de função outros métodos de navegação podem ser processados. Ao se pressionar o botão de função e, logo em seguida, o de avanço, a primeira nota do próximo compasso torna-se ativa. Se o botão de função é pressionado e, em seguida, o de recuo é pressionado dois eventos podem ser ocorrentes, a depender da posição da nota atual no compasso. Se a nota é a primeira, retorna-se para o compasso anterior. Se não é a primeira, a nota que passa a ser ativa é a primeira nota do compasso atual. Finalmente, se os dois botões de recuo e avanço são pressionados simultaneamente, permanecerem pressionados e for acionado o botão de função, a execução da partitura será encerrada.</p>
<p>        Quando a operação de deslocamento para o próximo compasso é efetivada, são executados dois bips curtos, enquanto, para o retorno para o compasso anterior apenas um bip curto é presente.</p>
<p>    Se duas notas idênticas, conseguintes, são presentes, e a configuração de adição de espaços entre essas duas notas iguais estiver ativada, todos os pontos serão rebaixados durante a passagem da primeira para a segunda nota. Se a configuração mencionada não estiver ativa, o pressionamento do botão de avanço gera a passagem para a nota posterior sem nenhuma ação, já que todos os pontos se mantêm. Todavia, para esse segundo caso, são apresentadas, novamente, as informações de significação, se ativadas.</p>
<p>        Independentemente do modo de navegação utilizado, a execução se finaliza ao tentar-se acessar a nota posterior a última presente na composição. Quando isso ocorre pulsos do bip são executados e a interface retorna para a página de execução.</p>
    
<h3>Execuçção automática</h3>
<p>Selecionado o modo de reprodução automática, a partitura pode ser reproduzida com ausência do pressionamento dos botões. A passagem das notas é feita pela frequência definida pelo BPM. Para tanto, logo ao entrar nessa opção é requisitado que o usuário pressione a tecla “Enter”, oito vezes, na frequência que se deseja alternar entre as notas da composição. </p>
<p> Finalizado o procedimento, são oferecidas as opções de utilizar o BPM amostrado, realizar uma nova medição ou utilizar um valor definido numericamente.</p>
<p> Semelhante a execução manual, são apresentadas as etapas de reprodução do metrônomo, se ativado, e espera pelo pressionamento de qualquer botão para início da representação. Bips e mensagens informativas são apresentadas conforme configuração e as notas são alternadas automaticamente até que se chegue ao final da composição.</p> 

<h3>Seleção de partitura</h3>
<p> Destinada a selecionar a partitura utilizada para os procedimentos de execução, anteriormente apresentados, acessa a pasta de partituras, presente no mesmo nível que o arquivo executável, e lista todos os disponíveis para seleção.</p>
<p>O usuário deve digitar o valor correspondente a alguma das opções e, se válido, será este o utilizado para os métodos de reprodução e é gravado no arquivo de configuração, para que se mantenha como seleção para reprodução mesmo que o programa seja encerrado.</p>
<p> Ao final desse procedimento, as informações da composição são apresentadas na tela, se assim configurado, e o programa retorna para a página de execução.</p>

<h2>Página de escrita</h2>
<p> Quando a página de escrita é selecionada, primeiramente, é apresentado um menu contendo opções de receber ajuda, retornar a página inicial e começar a escrita de uma nova partitura. Iniciando a escrita de uma nova composição o usuário poderá utilizar das teclas ‘s’, ‘d’, ‘f’, ‘j’, ‘k’ e ‘l’ para digitar uma nova cela braille, representativa da nota da partitura, utilizar espaços para fazer a divisão entre diferentes notas e pressionar a tecla “Enter” para começar um novo compasso para a partitura. O fim da elaboração da partitura se dá a partir da entrada do dígito “0” ou da palavra de comando “sair”, conforme apresentado por uma mensagem de aviso assim que a escrita da  partitura é iniciada.</p>
<p> Finalizada a escrita é possível a seleção de duas opções. A primeira delas é descartar o que foi realizado no passo anterior, selecionado pela inserção do dígito ‘0’, ou do pressionamento de tecla ‘1’ que inicia o procedimento de salvamento dos dados.</p>
<p> No processo de salvar o arquivo são requisitados os valores do nome do arquivo desejado, o título da composição, autor e BPM. Para o BPM, em especial, é possível digitar o valor numérico ou  iniciar um método de auxílio para determinação. Como já apresentado previamente, no método de auxílio para definição do BPM será requisitado que o usuário pressione a tecla “Enter” oito vezes, no ritmo desejado, com posterior seleção do valor indicado pela amostra,  realização de nova amostragem ou inserção por valor numérico.</p>
<p> Finalizada a entrada das informações sobre a partitura, o programa retorna para a página inicial e a nova composição estará disponível na pasta de partituras e, consequentemente, apta para seleção para a reprodução na plataforma.</p>

<h2>Página de comando direto</h2>
<p> No método de envio de comandos diretamente para a placa é possível controlar o acionamento de cada um dos pontos da plataforma por meio dos caracteres ‘s’, ‘d’, ‘f’, ‘j’, ‘k’ e ‘l’. O pressionamento de valores além dos citados apenas não gera nenhum efeito sob o programa, exceto do dígito ‘0’ que interrompe o envio de dados. </p>
<p> Semelhante ao ocorrente nas páginas anteriores, em primeiro plano são apresentadas as opções de ajuda e retorno a página inicial, além da de início da função principal</p>
	<p> Selecionado o envio de comandos é aguardado uma sequência qualquer de caracteres, com posterior pressionamento de tecla “Enter” que ativa os pontos na plataforma. Caso as opções de apresentação de informações sobre a combinação inserida estejam ativadas, será  apresentado ao usuário, pela interface, os valores correspondentes. Caso não exista nenhuma correspondência entre a entrada e as informações contidas no dicionário de tradução, um hífen (‘-’) será impresso na tela.</p>

    <h2>Página de configurações</h2>
<p>     Na página de configuração são disponíveis todas as opções de personalização da interface e da plataforma. Pressionar qualquer uma das opções ativa/desativa a opção para todas as páginas a que o comando possui uso e o estado é mantido ao longo das próximas utilizações, ainda que o programa seja encerrado. </p>
<p>     Caso necessário, o retorno para a configuração padrão pode ser feito por uma das opções e, em último caso, quando problemas mais graves na execução do programa são aparentes, é possível apagar o arquivo de configuração presente no diretório raiz, que ocasiona a criação de um novo documento com os valores padrões durante a próxima execução do programa.</p>
<p>         As opções, e suas descrições, quando necessárias, são apresentadas a seguir:</p>
<p> </p>    ●	Ativar/Desativar sintetizador de voz;</p>
<p>     ●	Ativar/Desativar bips da plataforma: desativa qualquer emissão de som pelo buzzer, ainda que outras opções de emissão, como a de sonorização ao início dos compassos, esteja ativada;</p>
<p>    ●	Alterar voz do sintetizador: permite a escolha de outras vozes para o sintetizador de voz, de acordo com a lista de valores retornados pela consulta aos disponíveis no sistema operacional. Inserção de valores não factíveis geram nova requisição de entrada; </p>
<p>    ●	Ativar/Desativar reprodução de metrônomo antes das execuções da partitura;</p>
<p>     ●	Ativar/Desativar apresentação de informações da partitura antes do início das execuções;</p>
<p>    ●	Ativar/Desativar execução de bip ao iniciar novo compasso na partitura;</p>
<p>    ●	Ativar/Desativar apresentação de informações do compasso no início de sua execução;</p>
<p>    ●	Ativar/Desativar apresentação de informações de musicografia para a combinação na plataforma;</p>
<p>    ●	Ativar/Desativar apresentação de informações do alfabeto tradicional para a combinação na plataforma;</p>
<p>    ●	Ativar/Desativar apresentação do vetor de acionamento de motores para a combinação na plataforma;</p>
<p>    ●	Ativar/Desativar adição de espaço entre duas notas seguintes idênticas;</p>
<p>    ●	Alterar porta de comunicação com a placa Arduino: espera a entrada de um novo valor para uso na comunicação com o microcontrolador. Se o valor ‘3’ é inserido, por exemplo, o programa tenta se conectar através da porta “COM3”, na próxima execução;</p>
<p>    ●	Retornar aos padrões de configuração;</p>
<p>     ●	Retorno para a página inicial.</p>
    
</body>
</html>